require 'abst'
require 'Benchmark'

#list = [58459323551767, 65620906028459, 4959920787853, 26167377918679, 2020319544127, 8236894998863, 46503672183589, 29235219775591, 59974318076077, 65196265775621]
#list = [23916353875143281737, 56428599095241190007, 24559500716705748943, 43381522922949440477, 19238749214625480671, 25498058878476331907, 9530738504299322287, 18193861945465859131, 79670656009259581439, 19256936255213267029]
#list = [11475921279892351667261423, 45311162230950088723346617, 39651153562394306908478777, 55030699289945941239932357, 43838672570700993257859683, 33178903545588083522045537, 30300939834541232665620671, 31069312989924543734107999, 21013803135699066090249349, 5000146478445790153360579]
#list = [632485918801072224414926634251, 350658527119380782462181409379, 37607221448169954706671489791, 296368847877316769221454618491, 374006113317415551497838907081, 447355369179437471839120868957, 27600483791844486954839426041, 313473544566338634096071301599, 203877788473200651661370001139, 58990550666957831129899366147]
# 17*17
list = [177136001060752828942133115428593, 14593852923430119162435149745761509, 1862968389067917730793983942730407, 31645900833612578021624069226032647, 1204215260855100995501373765659851, 12363807905670169146094120836035507, 2010825380351977453876796403188257, 4400556933123359162494619156030281, 5749561974738064410212757303505847, 3506408892174471326476981157782841]
#list = [640855995013654546183471313222999963587, 775432477196699768628196074481801068523, 3742280974582776478864415220795092063303, 2005557899988970993394984772256107706493, 1418131886163967118180045437836955342351, 4795786692942371698051809313289655137089, 358847563313547018018273151311927426337, 1075803640744987703463221320188178005307, 2144580475102919643595434686580984509101, 3430127431167395417617236437059759832287]
#list = [53926040382630470928035771789336984738500778520161, 9043581508706495715644518782711947628258322397957, 2962256982620620093065542796348247216613314889603, 88819741487195402313236360870920900685910301380487, 8310260241389814371139759213379495076535127278791, 14886554625652531310082652155028161473771403106351, 12873234000367017575044917369639227931375173975389, 13604660419991149021554419862526797971772887178049, 28153653887810360993117297016063548820237066831139, 16698740035063118438491644988327230911553604413313]

primes_list
sleep 0.5

puts Benchmark.measure {
	list.each do |n|
		print "#{mpqs(n)}, "
#		p factorize(n)
	end
	
	puts Benchmark::CAPTION
}

MPQS.get_times.each do |key, value|
	printf("%10s: %f\n", key, value)
end
